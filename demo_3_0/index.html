<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://unpkg.com/vue@3.0.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
  </head>
  <body>
    <div id="root">
      <div>Counter: {{ counter }}</div>
      <!-- v-bind -->
      <span v-bind:title="message">
        é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼
      </span>
      <p>{{ message2 }}</p>
      <!-- v-on -->
      <button v-on:click="reverseMessage">åè½¬ Message</button>
      <br />
      <!-- v-model -->
      <input v-model="message2" />
      <br />
      <!-- v-if -->
      <span v-if="seen">ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†</span>
      <!-- v-for -->
      <ol>
        <li v-for="todo in todos">{{ todo.text }}</li>
      </ol>
      <!-- æ¨¡æ¿ template-->
      <ol>
        <todo-item></todo-item>
        <todo-item></todo-item>
      </ol>
      <!-- æ¨¡æ¿ template props-->
      <ol>
        <todo-item2
          v-for="item in groceryList"
          v-bind:todo="item"
          v-bind:key="item.id"
        ></todo-item2>
      </ol>
      <div>
        <!-- v-once -->
        <span v-once>è¿™ä¸ªå°†ä¸ä¼šæ”¹å˜: {{ counter }}</span>
      </div>
      <p>Using mustaches: {{ rawHtml }}</p>
      <!-- v-html -->
      <p>Using v-html directive: <span v-html="rawHtml"></span></p>
      <!-- 
        å¦‚æœç»‘å®šçš„å€¼æ˜¯ null æˆ– undefinedï¼Œé‚£ä¹ˆè¯¥ attribute å°†ä¸ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“çš„å…ƒç´ ä¸Šã€‚
        é™¤ falseã€0ã€""ã€nullã€undefined å’Œ NaN ä»¥å¤–çš†ä¸ºtruthyçœŸå€¼
        å¦‚æœ isButtonDisabled çš„å€¼æ˜¯ truthy[1]ï¼Œé‚£ä¹ˆ disabled attribute å°†è¢«åŒ…å«åœ¨å†…
        å¦‚æœè¯¥å€¼æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œå®ƒä¹Ÿä¼šè¢«åŒ…æ‹¬åœ¨å†…ï¼Œä¸ <button disabled=""> ä¿æŒä¸€è‡´ã€‚
        å¯¹äºå…¶ä»–é”™è¯¯çš„å€¼ï¼Œè¯¥ attribute å°†è¢«çœç•¥ã€‚
      -->
      <button v-bind:disabled="isButtonDisabled">æŒ‰é’®</button>
      <br />
      <!-- åŠ¨æ€å‚æ•° -->
      <button v-on:[eventname]="reverseMessage">åè½¬ Message</button>
      <br />
      <button v-bind:[attributename]="isButtonDisabled">æŒ‰é’®</button>
      <br />
      <!-- ç¼©å†™ -->
      <button @[eventname]="reverseMessage">åè½¬ Message</button>
      <br />
      <button :[attributename]="isButtonDisabled">æŒ‰é’®</button>
      <br />
      <div>
        -------------------------------è®¡ç®—å±æ€§----------------------------------
      </div>
      <p>Has published books:</p>
      <span>{{ publishedBooksMessage }}</span>

      <div>
        -------------------------------watch----------------------------------
      </div>
      <p>
        Ask a yes/no question:
        <input v-model="question" />
      </p>
      <p>{{ answer }}</p>
      <!-- ç»‘å®šclass -->
      <div>
        -------------------------------ç»‘å®šclass----------------------------------
      </div>
      <div class="static" v-bind:class="classObj">ç»‘å®šclass</div>
      <div>
        -------------------------------ç»‘å®šstyle----------------------------------
      </div>
      <div v-bind:style="{ color: activeColor, fontSize: fontSize + 'px' }">
        ç»‘å®šstyle
      </div>
      <div v-bind:style="styleObject">ç»‘å®šstyle2</div>
      <!-- æ¡ä»¶æ¸²æŸ“ -->
      <h1 v-if="awesome">Vue is awesome!</h1>
      <h1 v-else>Oh no ğŸ˜¢</h1>
      <template v-if="ok">
        <h1>Title</h1>
        <p>Paragraph 1</p>
        <p>Paragraph 2</p>
      </template>
      <!-- åœ¨ v-for é‡Œä½¿ç”¨å¯¹è±¡ -->
      <ul>
        <li v-for="value in object">{{ value }}</li>
      </ul>
      <br />
      <div v-for="(value, name) in object">{{ name }}: {{ value }}</div>
      <br />
      <div v-for="(value, name, index) in object" :key="value">
        {{ index }}. {{ name }}: {{ value }}
      </div>
      <ul>
        <li v-for="n in evenNumbers">{{ n }}</li>
      </ul>
      <input type="checkbox" id="checkbox" v-model="checked" />
      <label for="checkbox">{{ checked }}</label>
      <div>
        -------------------------------------å¤šé€‰æŒ‰é’®-------------------------------------
      </div>
      <input type="checkbox" id="jack" value="Jack" v-model="checkedNames" />
      <label for="jack">Jack</label>
      <input type="checkbox" id="john" value="John" v-model="checkedNames" />
      <label for="john">John</label>
      <input type="checkbox" id="mike" value="Mike" v-model="checkedNames" />
      <label for="mike">Mike</label>
      <br />
      <span>Checked names: {{ checkedNames }}</span>

      <div>
        ----------------------------------å•é€‰æŒ‰é’®-------------------------------------
      </div>
      <input type="radio" id="one" value="One" v-model="picked" />
      <label for="one">One</label>
      <br />
      <input type="radio" id="two" value="Two" v-model="picked" />
      <label for="two">Two</label>
      <br />
      <span>Picked: {{ picked }}</span>

      <div>
        ---------------------------------å•é€‰æ¡†----------------------------------
      </div>
      <select v-model="selected">
        <option disabled value="">è¯·é€‰æ‹©</option>
        <option>A</option>
        <option>B</option>
        <option>C</option>
      </select>
      <span>Selected: {{ selected }}</span>

      <div>
        -----------------------------å¤šé€‰æ¡†----------------------------------
      </div>
      <select v-model="selecteds" multiple style="width: 50px">
        <option>A</option>
        <option>B</option>
        <option>C</option>
      </select>
      <br />
      <span>Selected: {{ selecteds }}</span>

      <div>
        -------------------------------å¤é€‰æ¡†---------------------------------
      </div>
      <input
        type="checkbox"
        v-model="toggle"
        true-value="yes"
        false-value="no"
      />
    </div>
  </body>
  <script>
    const Root = {
      data() {
        return {
          counter: 0,
          message: "You loaded this page on " + new Date().toLocaleString(),
          message2: "You loaded this page on ",
          seen: true,
          todos: [
            { text: "Learn JavaScript" },
            { text: "Learn Vue" },
            { text: "Build something awesome" },
          ],
          groceryList: [
            { id: 1, text: "Learn JavaScript" },
            { id: 2, text: "Learn Vue" },
            { id: 3, text: "Build something awesome" },
          ],
          rawHtml: "<span>rawHtml content</span>",
          isButtonDisabled: true,
          eventname: "click",
          attributename: "disabled",
          author: {
            name: "John Doe",
            books: [
              "Vue 2 - Advanced Guide",
              "Vue 3 - Basic Guide",
              "Vue 4 - The Mystery",
            ],
          },
          question: "",
          answer: "Questions usually contain a question mark. ;-)",
          classObj: {
            isActive: true,
            hasError: false,
          },
          activeColor: "red",
          fontSize: 30,
          styleObject: {
            color: "green",
            fontSize: "30px",
          },
          awesome: true,
          ok: true,
          object: {
            title: "How to do lists in Vue",
            author: "Jane Doe",
            publishedAt: "2016-04-10",
          },
          numbers: [1, 2, 3, 4, 5, 6, 7, 8, 9],
          checked: false,
          checkedNames: [],
          picked: "One",
          selected: "",
          selecteds: [],
          // toggle: "",
        };
      },
      created() {
        console.log("created");
      },
      mounted() {
        setInterval(() => {
          this.counter++;
        }, 1000);
      },
      methods: {
        reverseMessage() {
          this.message2 = this.message2.split("").reverse().join("");
        },
        getAnswer() {
          this.answer = "Thinking...";
          axios
            .get("https://yesno.wtf/api")
            .then((response) => {
              this.answer = response.data.answer;
            })
            .catch((error) => {
              this.answer = "Error! Could not reach the API. " + error;
            });
        },
      },
      computed: {
        // è®¡ç®—å±æ€§çš„ getter
        publishedBooksMessage() {
          // `this` æŒ‡å‘ vm å®ä¾‹
          return this.author.books.length > 0 ? "Yes" : "No";
        },
        evenNumbers() {
          return this.numbers.filter(function (number) {
            return number % 2 === 0;
          });
        },
      },
      watch: {
        // whenever question changes, this function will run
        question(newQuestion, oldQuestion) {
          console.log("question change");
          if (newQuestion.indexOf("?") > -1) {
            this.getAnswer();
          }
        },
      },
    };

    let vm = Vue.createApp(Root);
    vm.component("todo-item", {
      template: `<li>skdfklajklfkl</li>`,
    });
    vm.component("todo-item2", {
      props: ["todo"],
      template: `<li>{{todo.text}}</li>`,
    });
    vm.mount("#root");
  </script>
</html>
